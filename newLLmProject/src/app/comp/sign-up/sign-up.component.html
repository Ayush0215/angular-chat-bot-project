<div class="close-box">
  <button routerLink="/home" class="close-btn">
    <mat-icon> close </mat-icon>
  </button>
</div>
<div class="sign-up-page" *ngIf="isSignUpVisible">
  <div class="sign-up-form">
    <form
      class="login-form"
      aria-live="polite"
      aria-relevant="additions"
      aria-atomic="false"
    >
      <div>
        <h1>SignUp</h1>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="input-field-none">
          <mat-label>Username</mat-label>
          <input
            matInput
            name="username"
            type="text"
            placeholder="Enter your username"
            [(ngModel)]="userName"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="input-field-none">
          <mat-label>Email</mat-label>
          <input
            matInput
            name="email"
            placeholder="Enter your email"
            type="email"
            [(ngModel)]="email"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="outline" class="input-field-none">
          <mat-label>Password</mat-label>
          <input
            matInput
            name="password"
            placeholder="Enter your Password"
            [type]="passwordVisible ? 'text' : 'password'"
            [(ngModel)]="password"
            required
          />
          <button
            mat-icon-button
            type="button"
            aria-label="Toggle password visibility"
            (click)="togglePasswordVisibility()"
            class="password-toggle-btn"
          >
            <mat-icon>{{
              passwordVisible ? "visibility_off" : "visibility"
            }}</mat-icon>
          </button>
        </mat-form-field>
        <mat-form-field appearance="outline" class="input-field-none">
          <mat-label>Confirm Password</mat-label>
          <input
            matInput
            name="confirmPassword"
            placeholder="Re-enter your Password"
            [type]="passwordVisible ? 'text' : 'password'"
            [(ngModel)]="confirmPassword"
            required
          />
        </mat-form-field>
      </div>
    </form>

    <div class="button-container">
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
      <button
        mat-raised-button
        color="primary"
        class="btn-login"
        type="submit"
        [disabled]="isLoading"
        (click)="onSignUp()"
      >
        <ng-container *ngIf="!isLoading; else loading"> SignUp </ng-container>

        <ng-template #loading>
          <div class="dots-container">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
        </ng-template>
      </button>
    </div>

    <div class="login-area">
      <p>Already have an account?</p>
      <button
        mat-raised-button
        color="primary"
        class="btn-login"
        (click)="navigateToLogin()"
      >
        <ng-container> Login </ng-container>
      </button>
    </div>

    <div class="line">
      <span> OR </span>
    </div>
    <div class="other-options">
      <button class="social-btn">
        <span class="social-logo-wrapper"
          ><img
            class="social-logo"
            src="../../../../downloadgm.svg"
            alt="Google logo" /></span
        ><span class="social-text">Continue with Google</span>
      </button>
      <button class="social-btn">
        <span class="social-logo-wrapper"
          ><img
            class="social-logo"
            src="../../../../downloadm.svg"
            alt="Microsoft logo" /></span
        ><span class="social-text">Continue with Microsoft Account</span>
      </button>
      <button class="social-btn">
        <span class="social-logo-wrapper"
          ><img
            class="social-logo"
            src="../../../../download.svg"
            alt="Apple logo" /></span
        ><span class="social-text">Continue with Apple</span>
      </button>
    </div>
  </div>
</div>
